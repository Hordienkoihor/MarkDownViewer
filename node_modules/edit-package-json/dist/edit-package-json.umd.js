/**
 * @name edit-package-json
 * @fileoverview Edit package.json without parsing, as string, to keep the formatting intact
 * @version 0.8.20
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/edit-package-json/}
 */

"use strict";var editPackageJson=(()=>{var fe=Object.create;var V=Object.defineProperty;var $e=Object.getOwnPropertyDescriptor;var me=Object.getOwnPropertyNames,q=Object.getOwnPropertySymbols,ge=Object.getPrototypeOf,K=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable;var Q=(e,n,i)=>n in e?V(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,w=(e,n)=>{for(var i in n||(n={}))K.call(n,i)&&Q(e,i,n[i]);if(q)for(var i of q(n))ce.call(n,i)&&Q(e,i,n[i]);return e};var pe=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),be=(e,n)=>{for(var i in n)V(e,i,{get:n[i],enumerable:!0})},z=(e,n,i,u)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of me(n))!K.call(e,t)&&t!==i&&V(e,t,{get:()=>n[t],enumerable:!(u=$e(n,t))||u.enumerable});return e};var G=(e,n,i)=>(i=e!=null?fe(ge(e)):{},z(n||!e||!e.__esModule?V(i,"default",{value:e,enumerable:!0}):i,e)),ye=e=>z(V({},"__esModule",{value:!0}),e);var M=pe((xe,Z)=>{"use strict";Z.exports=he;function W(e){return e instanceof Buffer?Buffer.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}function he(e){if(e=e||{},e.circles)return de(e);return e.proto?u:i;function n(t,r){for(var l=Object.keys(t),o=new Array(l.length),f=0;f<l.length;f++){var s=l[f],a=t[s];typeof a!="object"||a===null?o[s]=a:a instanceof Date?o[s]=new Date(a):ArrayBuffer.isView(a)?o[s]=W(a):o[s]=r(a)}return o}function i(t){if(typeof t!="object"||t===null)return t;if(t instanceof Date)return new Date(t);if(Array.isArray(t))return n(t,i);if(t instanceof Map)return new Map(n(Array.from(t),i));if(t instanceof Set)return new Set(n(Array.from(t),i));var r={};for(var l in t)if(Object.hasOwnProperty.call(t,l)!==!1){var o=t[l];typeof o!="object"||o===null?r[l]=o:o instanceof Date?r[l]=new Date(o):o instanceof Map?r[l]=new Map(n(Array.from(o),i)):o instanceof Set?r[l]=new Set(n(Array.from(o),i)):ArrayBuffer.isView(o)?r[l]=W(o):r[l]=i(o)}return r}function u(t){if(typeof t!="object"||t===null)return t;if(t instanceof Date)return new Date(t);if(Array.isArray(t))return n(t,u);if(t instanceof Map)return new Map(n(Array.from(t),u));if(t instanceof Set)return new Set(n(Array.from(t),u));var r={};for(var l in t){var o=t[l];typeof o!="object"||o===null?r[l]=o:o instanceof Date?r[l]=new Date(o):o instanceof Map?r[l]=new Map(n(Array.from(o),u)):o instanceof Set?r[l]=new Set(n(Array.from(o),u)):ArrayBuffer.isView(o)?r[l]=W(o):r[l]=u(o)}return r}}function de(e){var n=[],i=[];return e.proto?r:t;function u(l,o){for(var f=Object.keys(l),s=new Array(f.length),a=0;a<f.length;a++){var $=f[a],p=l[$];if(typeof p!="object"||p===null)s[$]=p;else if(p instanceof Date)s[$]=new Date(p);else if(ArrayBuffer.isView(p))s[$]=W(p);else{var c=n.indexOf(p);c!==-1?s[$]=i[c]:s[$]=o(p)}}return s}function t(l){if(typeof l!="object"||l===null)return l;if(l instanceof Date)return new Date(l);if(Array.isArray(l))return u(l,t);if(l instanceof Map)return new Map(u(Array.from(l),t));if(l instanceof Set)return new Set(u(Array.from(l),t));var o={};n.push(l),i.push(o);for(var f in l)if(Object.hasOwnProperty.call(l,f)!==!1){var s=l[f];if(typeof s!="object"||s===null)o[f]=s;else if(s instanceof Date)o[f]=new Date(s);else if(s instanceof Map)o[f]=new Map(u(Array.from(s),t));else if(s instanceof Set)o[f]=new Set(u(Array.from(s),t));else if(ArrayBuffer.isView(s))o[f]=W(s);else{var a=n.indexOf(s);a!==-1?o[f]=i[a]:o[f]=t(s)}}return n.pop(),i.pop(),o}function r(l){if(typeof l!="object"||l===null)return l;if(l instanceof Date)return new Date(l);if(Array.isArray(l))return u(l,r);if(l instanceof Map)return new Map(u(Array.from(l),r));if(l instanceof Set)return new Set(u(Array.from(l),r));var o={};n.push(l),i.push(o);for(var f in l){var s=l[f];if(typeof s!="object"||s===null)o[f]=s;else if(s instanceof Date)o[f]=new Date(s);else if(s instanceof Map)o[f]=new Map(u(Array.from(s),r));else if(s instanceof Set)o[f]=new Set(u(Array.from(s),r));else if(ArrayBuffer.isView(s))o[f]=W(s);else{var a=n.indexOf(s);a!==-1?o[f]=i[a]:o[f]=r(s)}}return n.pop(),i.pop(),o}}});var Re={};be(Re,{del:()=>We,set:()=>Ie,version:()=>De});var Y=G(M(),1);var Ve=(0,Y.default)();function J(e){if(e==null||typeof e!="object")return!1;let n=Object.getPrototypeOf(e);return n!==null&&n!==Object.prototype&&Object.getPrototypeOf(n)!==null?!1:!(Symbol.iterator in e)&&!(Symbol.toStringTag in e)}function T(e){return typeof e=="string"}function X(e){return Number.isFinite(e)}function ee(e){return Number.isSafeInteger(e)&&e>=0}var ne=G(M(),1);var C=(0,ne.default)();var R="\xA0";function we(e){let n={value:e,hungry:!1,optional:!1};return(n.value.endsWith("?*")||n.value.endsWith("*?"))&&n.value.length>2?(n.value=n.value.slice(0,n.value.length-2),n.optional=!0,n.hungry=!0):n.value.endsWith("?")&&n.value.length>1?(n.value=n.value.slice(0,~-n.value.length),n.optional=!0):n.value.endsWith("*")&&n.value.length>1&&(n.value=n.value.slice(0,~-n.value.length),n.hungry=!0),n}function Ae({str:e,idx:n=0,stopAtNewlines:i=!1,stopAtRawNbsp:u=!1}){if(typeof e!="string"||!e.length||((!n||typeof n!="number")&&(n=0),!e[n+1]))return null;if(e[n+1]&&(e[n+1].trim()||i&&`
\r`.includes(e[n+1])||u&&e[n+1]===R))return n+1;if(e[n+2]&&(e[n+2].trim()||i&&`
\r`.includes(e[n+2])||u&&e[n+2]===R))return n+2;for(let t=n+1,r=e.length;t<r;t++)if(e[t].trim()||i&&`
\r`.includes(e[t])||u&&e[t]===R)return t;return null}function I(e,n=0){return Ae({str:e,idx:n,stopAtNewlines:!1,stopAtRawNbsp:!1})}function Se({str:e,idx:n,stopAtNewlines:i,stopAtRawNbsp:u}){if(typeof e!="string"||!e.length||((!n||typeof n!="number")&&(n=0),n<1))return null;if(e[~-n]&&(e[~-n].trim()||i&&`
\r`.includes(e[~-n])||u&&e[~-n]===R))return~-n;if(e[n-2]&&(e[n-2].trim()||i&&`
\r`.includes(e[n-2])||u&&e[n-2]===R))return n-2;for(let t=n;t--;)if(e[t]&&(e[t].trim()||i&&`
\r`.includes(e[t])||u&&e[t]===R))return t;return null}function j(e,n=0){return Se({str:e,idx:n,stopAtNewlines:!1,stopAtRawNbsp:!1})}function te(e,n,i,u,t){if(typeof n!="string"||!n.length||(typeof i!="number"&&(i=0),e==="right"&&!n[i+1]||e==="left"&&!n[~-i]))return null;let r=i,l=[],o,f,s,a=0;for(;a<t.length;){if(!T(t[a])||!t[a].length){a+=1;continue}let{value:$,optional:p,hungry:c}=we(t[a]),m=e==="right"?I(n,r):j(n,r);if(u.i&&n[m].toLowerCase()===$.toLowerCase()||!u.i&&n[m]===$){let h=e==="right"?I(n,m):j(n,m);c&&(u.i&&n[h].toLowerCase()===$.toLowerCase()||!u.i&&n[h]===$)?s=!0:a+=1,typeof m=="number"&&e==="right"&&m>r+1?l.push([r+1,m]):e==="left"&&typeof m=="number"&&m<~-r&&l.unshift([m+1,r]),r=m,e==="right"?(o===void 0&&(o=m),f=m):(f===void 0&&(f=m),o=m)}else if(p){a+=1;continue}else if(s){a+=1,s=void 0;continue}else return null}return o===void 0||f===void 0?null:{gaps:l,leftmostChar:o,rightmostChar:f}}var F={i:!1};function Ee(e,n,...i){if(!(i!=null&&i.length))throw new Error("string-left-right/leftSeq(): only two input arguments were passed! Did you intend to use left() method instead?");let u;return J(i[0])?u=w(w({},F),i.shift()):u=F,te("left",e,n,u,Array.from(i).reverse())}function ve(e,n,...i){if(!(i!=null&&i.length))throw new Error("string-left-right/rightSeq(): only two input arguments were passed! Did you intend to use right() method instead?");let u;return J(i[0])?u=w(w({},F),i.shift()):u=F,te("right",e,n,u,i)}function _(e,n,i,u,t=[]){var f,s;if(typeof n!="string"||!n.length||((!i||typeof i!="number")&&(i=0),e==="right"&&!n[i+1]||e==="left"&&+i==0))return null;let r=null,l=null;do r=e==="right"?ve(n,typeof l=="number"?l:i,...t):Ee(n,typeof l=="number"?l:i,...t),r!==null&&(l=e==="right"?r.rightmostChar:r.leftmostChar);while(r);if(l!=null&&e==="right"&&(l+=1),l===null)return null;if(e==="right"){if((f=n[l])!=null&&f.trim())return l;let a=I(n,l);if(!u||u.mode===0){if(a===l+1)return l;if(n.slice(l,a||n.length).trim()||n.slice(l,a||n.length).includes(`
`)||n.slice(l,a||n.length).includes("\r")){for(let $=l,p=n.length;$<p;$++)if(`
\r`.includes(n[$]))return $}else return a?~-a:n.length}else{if(u.mode===1)return l;if(u.mode===2){let $=n.slice(l);if($.trim()||$.includes(`
`)||$.includes("\r")){for(let p=l,c=n.length;p<c;p++)if(n[p].trim()||`
\r`.includes(n[p]))return p}return n.length}}return a||n.length}if(n[l]&&((s=n[~-l])!=null&&s.trim()))return l;let o=j(n,l);if(!u||u.mode===0){if(o===l-2)return l;if(n.slice(0,l).trim()||n.slice(0,l).includes(`
`)||n.slice(0,l).includes("\r")){for(let a=l;a--;)if(`
\r`.includes(n[a])||n[a].trim())return a+1+(n[a].trim()?1:0)}return 0}if(u.mode===1)return l;if(u.mode===2){let a=n.slice(0,l);if(a.trim()||a.includes(`
`)||a.includes("\r")){for(let $=l;$--;)if(n[$].trim()||`
\r`.includes(n[$]))return $+1}return 0}return o!==null?o+1:0}function re(e,n,...i){if(!i.length||i.length===1&&J(i[0]))return null;let u={mode:0};if(J(i[0])){let t=w(w({},u),C(i[0]));if(!t.mode)t.mode=0;else if(T(t.mode)&&t.mode.length===1&&"0123".includes(t.mode))t.mode=+t.mode;else if(!ee(t.mode))throw new Error(`string-left-right/chompLeft(): [THROW_ID_01] the opts.mode is wrong! It should be 0, 1, 2 or 3. It was given as ${t.mode} (type ${typeof t.mode})`);return _("left",e,n,t,C(i).slice(1))}return T(i[0])?_("left",e,n,u,C(i)):_("left",e,n,u,C(i).slice(1))}var Oe={strictlyTwoElementsInRangeArrays:!1,progressFn:null};function B(e,n){if(!Array.isArray(e)||!e.length)return e;let i=w(w({},Oe),n),u,t;if(i.strictlyTwoElementsInRangeArrays&&!e.every((o,f)=>!Array.isArray(o)||o.length!==2?(u=f,t=o.length,!1):!0))throw new TypeError(`ranges-sort: [THROW_ID_03] The first argument should be an array and must consist of arrays which are natural number indexes representing TWO string index ranges. However, ${u}th range (${JSON.stringify(e[u],null,4)}) has not two but ${t} elements!`);if(!e.every((o,f)=>!Array.isArray(o)||!Number.isInteger(o[0])||o[0]<0||!Number.isInteger(o[1])||o[1]<0?(u=f,!1):!0))throw new TypeError(`ranges-sort: [THROW_ID_04] The first argument should be an array and must consist of arrays which are natural number indexes representing string index ranges. However, ${u}th range (${JSON.stringify(e[u],null,4)}) does not consist of only natural numbers!`);let r=e.length**2,l=0;return Array.from(e).sort((o,f)=>(i.progressFn&&(l+=1,i.progressFn(Math.floor(l*100/r))),o[0]===f[0]?o[1]<f[1]?-1:o[1]>f[1]?1:0:o[0]<f[0]?-1:1))}var ie={mergeType:1,progressFn:null,joinRangesThatTouchEdges:!0};function ue(e,n){function i(s){return!!s&&typeof s=="object"&&!Array.isArray(s)}if(!Array.isArray(e)||!e.length)return null;let u;if(n)if(i(n)){if(u=w(w({},ie),n),u.progressFn&&i(u.progressFn)&&!Object.keys(u.progressFn).length)u.progressFn=null;else if(u.progressFn&&typeof u.progressFn!="function")throw new Error(`ranges-merge: [THROW_ID_01] opts.progressFn must be a function! It was given of a type: "${typeof u.progressFn}", equal to ${JSON.stringify(u.progressFn,null,4)}`);if(![1,2,"1","2"].includes(u.mergeType))throw new Error(`ranges-merge: [THROW_ID_02] opts.mergeType was customised to a wrong thing! It was given of a type: "${typeof u.mergeType}", equal to ${JSON.stringify(u.mergeType,null,4)}`);if(typeof u.joinRangesThatTouchEdges!="boolean")throw new Error(`ranges-merge: [THROW_ID_04] opts.joinRangesThatTouchEdges was customised to a wrong thing! It was given of a type: "${typeof u.joinRangesThatTouchEdges}", equal to ${JSON.stringify(u.joinRangesThatTouchEdges,null,4)}`)}else throw new Error(`emlint: [THROW_ID_03] the second input argument must be a plain object. It was given as:
${JSON.stringify(n,null,4)} (type ${typeof n})`);else u=w({},ie);let t=e.filter(s=>Array.isArray(s)).map(s=>[...s]).filter(s=>s[2]!==void 0||s[0]!==s[1]),r,l,o;u.progressFn?r=B(t,{progressFn:s=>{o=Math.floor(s/5),o!==l&&(l=o,u.progressFn(o))}}):r=B(t);let f=r.length-1;for(let s=f;s>0;s--)u.progressFn&&(o=Math.floor((1-s/f)*78)+21,o!==l&&o>l&&(l=o,u.progressFn(o))),(r[s][0]<=r[s-1][0]||!u.joinRangesThatTouchEdges&&r[s][0]<r[s-1][1]||u.joinRangesThatTouchEdges&&r[s][0]<=r[s-1][1])&&(r[s-1][0]=Math.min(r[s][0],r[s-1][0]),r[s-1][1]=Math.max(r[s][1],r[s-1][1]),r[s][2]!==void 0&&(r[s-1][0]>=r[s][0]||r[s-1][1]<=r[s][1])&&r[s-1][2]!==null&&(r[s][2]===null&&r[s-1][2]!==null?r[s-1][2]=null:r[s-1][2]!=null?+u.mergeType==2&&r[s-1][0]===r[s][0]?r[s-1][2]=r[s][2]:r[s-1][2]+=r[s][2]:r[s-1][2]=r[s][2]),r.splice(s,1),s=r.length);return r.length?r:null}var Te=!0,H="Invariant failed";function le(e,n){if(!e){if(Te)throw new Error(H);var i=typeof n=="function"?n():n,u=i?"".concat(H,": ").concat(i):H;throw new Error(u)}}function L(e,n,i){let u=0,t=0;if(arguments.length===0)throw new Error("ranges-apply: [THROW_ID_01] inputs missing!");if(typeof e!="string")throw new TypeError(`ranges-apply: [THROW_ID_02] first input argument must be a string! Currently it's: ${typeof e}, equal to: ${JSON.stringify(e,null,4)}`);if(n&&!Array.isArray(n))throw new TypeError(`ranges-apply: [THROW_ID_03] second input argument must be an array (or null)! Currently it's: ${typeof n}, equal to: ${JSON.stringify(n,null,4)}`);if(i&&typeof i!="function")throw new TypeError(`ranges-apply: [THROW_ID_04] the third input argument must be a function (or falsey)! Currently it's: ${typeof i}, equal to: ${JSON.stringify(i,null,4)}`);if(!(n!=null&&n.filter(a=>a).length))return e;let r;Array.isArray(n)&&Number.isInteger(n[0])&&Number.isInteger(n[1])?r=[Array.from(n)]:r=Array.from(n);let l=r.length,o=0;r.filter(a=>a).forEach((a,$)=>{if(i&&(u=Math.floor(o/l*10),u!==t&&(t=u,i(u))),!Array.isArray(a))throw new TypeError(`ranges-apply: [THROW_ID_05] ranges array, second input arg., has ${$}th element not an array: ${JSON.stringify(a,null,4)}, which is ${typeof a}`);if(!Number.isInteger(a[0])){if(!Number.isInteger(+a[0])||+a[0]<0)throw new TypeError(`ranges-apply: [THROW_ID_06] ranges array, second input arg. has ${$}th element, array ${JSON.stringify(a,null,0)}. Its first element is not an integer, string index, but ${typeof a[0]}, equal to: ${JSON.stringify(a[0],null,4)}.`);r[$][0]=+r[$][0]}if(!Number.isInteger(a[1])){if(!Number.isInteger(+a[1])||+a[1]<0)throw new TypeError(`ranges-apply: [THROW_ID_07] ranges array, second input arg. has ${$}th element, array ${JSON.stringify(a,null,0)}. Its second element is not an integer, string index, but ${typeof a[1]}, equal to: ${JSON.stringify(a[1],null,4)}.`);r[$][1]=+r[$][1]}o+=1});let f=ue(r,{progressFn:a=>{i&&(u=10+Math.floor(a/10),u!==t&&(t=u,i(u)))}});le(f);let s=f.length;if(s>0){let a=e.slice(f[s-1][1]);e=f.reduce(($,p,c,m)=>{i&&(u=20+Math.floor(c/s*80),u!==t&&(t=u,i(u)));let h=c===0?0:m[c-1][1],v=m[c][0];return`${$}${e.slice(h,v)}${m[c][2]||""}`},""),e+=a}return e}var se="0.8.20";var De=se;function oe(e){return Array.isArray(e)?e.join("."):T(e)?e:String(e)}function je(e){return T(e)&&e.startsWith('"')&&e.endsWith('"')?`${JSON.stringify(e.slice(1,e.length-1),null,0)}`:JSON.stringify(e,null,0)}function E(e,n){if(e[n]!=="\\")return!0;let i=re(e,n,{mode:1},"\\");return!!(X(i)&&(n-i)%2!==0)}function ae({str:e,path:n,valToInsert:i,mode:u}){var k;let t=0;function r(S){e[t]}let l=e.length,o=[];r(`077 main(): MODE=${u}`);let f=["{","}","[","]",":",","],s=i;T(i)&&!i.startsWith('"')&&!i.startsWith("{")&&(s=`"${i}"`);let a=[],$=[],p=!1,c=!1,m=!1,h=null,v=null,g=null,N=null,D=null,P=null,y;function U(){return typeof y=="number"}let A=!1,d=[];function x(){h=null,v=null,g=null,N=null,D=null,P=null}x();let b=[];for(t=0;t<l;t++){if(r(`
\x1B[36m===============================\x1B[39m \x1B[35m${`str[ ${t} ] = ${(k=e[t])!=null&&k.trim()?e[t]:JSON.stringify(e[t],null,0)}`}\x1B[39m \x1B[36m===============================\x1B[39m
`),typeof y!="number"&&e[t-1]==="["&&(c=!0,e[t]!=="]"&&(p=!1)),typeof y!="number"&&e[t-1]==="{"&&(p=!0,e[t]!=="}"&&(c=!1)),typeof y!="number"&&e[t]==="{"&&E(e,t-1)&&!m&&(c&&(A||(r(`198 \x1B[33mcurrentPath\x1B[39m = ${JSON.stringify(b,null,4)}`),b[b.length-1]=b[b.length-1]+1,r(`207 \x1B[32mSET\x1B[39m ${`\x1B[33m${`currentPath[${b.length-1}]`}\x1B[39m`} = ${b[b.length-1]}`))),a.push(t),r(`215 \x1B[32mPUSH\x1B[39m \x1B[33mwithinObjectIndexes\x1B[39m = ${JSON.stringify(a,null,4)}`)),typeof y!="number"&&e[t]==="}"&&E(e,t-1)&&!m&&(a.pop(),r(`231 \x1B[31mPOP\x1B[39m \x1B[33mwithinObjectIndexes\x1B[39m = ${JSON.stringify(a,null,4)}`)),typeof y!="number"&&e[t]==="]"&&E(e,t-1)&&!m&&($.pop(),r(`248 \x1B[32mPOP\x1B[39m \x1B[33mwithinArrayIndexes\x1B[39m = ${JSON.stringify($,null,4)}`),b.pop(),r(`256 POP path, now = ${JSON.stringify(b,null,4)}`),r("258 \x1B[31mRESET\x1B[39m"),x(),A&&(A=!1,r(`267 \x1B[32mSET\x1B[39m \x1B[33mitsTheFirstElem\x1B[39m = ${A}`))),typeof y!="number"&&e[t]==="]"&&($.length?$.length&&(!a.length||$[$.length-1]>a[a.length-1])&&(c=!0):(c=!1,a.length&&!p&&(p=!0))),typeof y!="number"&&e[t]==="}"&&(a.length?(!$.length||a[a.length-1]>$[$.length-1])&&(p=!0):p=!1),c&&oe(n)===b.join(".")&&!m&&e[t].trim()&&(m=!0,r(`329 \x1B[32mSET\x1B[39m \x1B[33mreplaceThisValue\x1B[39m = ${m}`),g=t,r(`334 \x1B[32mSET\x1B[39m \x1B[33mvalueStartedAt\x1B[39m = ${g}`)),typeof y!="number"&&e[t]==="["&&E(e,t-1)&&!m&&($.push(t),A=!0,r(`348 \x1B[32mPUSH\x1B[39m \x1B[33mwithinArrayIndexes\x1B[39m = ${JSON.stringify($,null,4)}; \x1B[33mitsTheFirstElem\x1B[39m = ${A}`),b.push(0),r(`359 \x1B[32mPUSH\x1B[39m zero to path, now = ${JSON.stringify(b,null,0)}`)),c&&e[t]===","&&A&&!(typeof g=="number"&&N===null)&&(A=!1,r(`379 \x1B[32mSET\x1B[39m \x1B[33mitsTheFirstElem\x1B[39m = ${A}`)),!m&&g===null&&e[t].trim()&&!f.includes(e[t])&&(c||!c&&D!==null)&&(r("415 catching the start of a value clauses"),g=t,r(`418 \x1B[32mSET\x1B[39m \x1B[33mvalueStartedAt\x1B[39m = ${g}`),c&&(A?(A=!1,r(`426 \x1B[32mSET\x1B[39m \x1B[33mitsTheFirstElem\x1B[39m = ${A}`)):typeof b[b.length-1]=="number"&&(b[b.length-1]=b[b.length-1]+1,r(`432 \x1B[32mSET\x1B[39m ${`\x1B[33m${`currentPath[${b.length-1}]`}\x1B[39m`} = ${b[b.length-1]}`)))),!m&&typeof y!="number"&&(c||!c&&D!==null)&&typeof g=="number"&&g<t&&N===null&&(e[g]==='"'&&e[t]==='"'&&e[t-1]!=="\\"||e[g]!=='"'&&!e[t].trim()||["}",","].includes(e[t]))&&(r("451 catching the end of a value clauses"),P=e.slice(g,e[g]==='"'?t+1:t),r(`457 \x1B[32mSET\x1B[39m \x1B[33mkeyValue\x1B[39m = ${P}`),N=t,r(`461 \x1B[32mSET\x1B[39m \x1B[33mvalueEndedAt\x1B[39m = ${N}`)),!m&&!c&&e[t]==='"'&&e[t-1]!=="\\"&&D===null&&h===null&&v===null&&e[t+1]&&(h=t+1,r(`478 \x1B[32mSET\x1B[39m \x1B[33mkeyStartedAt\x1B[39m = ${h}`)),!m&&!c&&e[t]==='"'&&e[t-1]!=="\\"&&v===null&&typeof h=="number"&&g===null&&h<t&&(v=t+1,D=e.slice(h,t),r(`501 \x1B[32mSET\x1B[39m \x1B[33mkeyEndedAt\x1B[39m = ${v};  \x1B[33mkeyName\x1B[39m = ${D}`),b.push(D),r(`506 PUSH to path, now = ${JSON.stringify(b,null,4)}`),oe(n)===b.join(".")&&(m=!0,r(`515 \x1B[32mSET\x1B[39m \x1B[33mreplaceThisValue\x1B[39m = ${m}`))),!m&&typeof y!="number"&&e[t]===","&&p&&(b.pop(),r(`535 POP(), now \x1B[33mcurrentPath\x1B[39m = ${JSON.stringify(b,null,0)}`)),!m&&(typeof N=="number"&&t>=N||["}","]"].includes(e[j(e,t)])&&["}","]"].includes(e[t])||e[t]==="}"&&e[j(e,t)]==="{")&&e[t].trim()&&(r("552 \x1B[36m\u2588\u2588\x1B[39m catch the end of a key-value pair clauses"),e[t]===","&&!["}","]"].includes(e[I(e,t)])?(r("555 \x1B[31mRESET\x1B[39m"),x()):e[t]==="}"&&(r("558 closing curlie caught"),(N||e[j(e,t)]!=="{")&&(b.pop(),r(`569 POP(), now \x1B[33mcurrentPath\x1B[39m = ${JSON.stringify(b,null,0)}`)),r(`577 currently, currentlyWithinObject: ${p}`),r(`578 currently, currentlyWithinArray: ${c}`),$.length&&a.length&&$[$.length-1]>a[a.length-1]&&(p=!1,c=!0),r("616 \x1B[31mRESET\x1B[39m"),x())),!m&&e[t]==="{"&&T(D)&&g===null&&P===null&&(r("630 \x1B[31mRESET\x1B[39m"),x()),e[t].trim()&&m&&g===null&&typeof v=="number"&&t>v&&![":"].includes(e[t])&&(g=t,r(`644 \x1B[32mSET\x1B[39m \x1B[33mvalueStartedAt\x1B[39m = ${g}`)),e[t]==='"'&&E(e,t-1)&&(typeof h=="number"&&v===null||typeof g=="number"&&N===null)&&typeof y!="number"&&(y=t,r(`658 SET \x1B[33mwithinQuotesSince\x1B[39m = ${y}; withinQuotes = ${U()}`)),d.length&&e[t]===d[d.length-1]&&E(e,t-1)?(d.pop(),r(`677 \x1B[32mPOP\x1B[39m skipUntilTheFollowingIsMet = ${JSON.stringify(d,null,4)}`)):(typeof y!="number"||y===t)&&m&&!c&&typeof g=="number"&&(e[t]==="{"&&E(e,t-1)?(d.push("}"),r(`695 \x1B[32mPUSH\x1B[39m \x1B[33mskipUntilTheFollowingIsMet\x1B[39m = ${JSON.stringify(d,null,4)}`)):e[t]==="["&&E(e,t-1)?(d.push("]"),r(`705 \x1B[32mPUSH\x1B[39m \x1B[33mskipUntilTheFollowingIsMet\x1B[39m = ${JSON.stringify(d,null,4)}`)):e[t]==='"'&&E(e,t-1)&&(d.push('"'),r(`715 \x1B[32mPUSH\x1B[39m \x1B[33mskipUntilTheFollowingIsMet\x1B[39m = ${JSON.stringify(d,null,4)}`))),e[t]==='"'&&E(e,t-1)&&typeof y=="number"&&y!==t&&(y=void 0,r(`753 RESET \x1B[33mwithinQuotesSince\x1B[39m = ${y}; withinQuotes = ${U()}`)),m&&Array.isArray(d)&&!d.length&&typeof g=="number"&&t>g&&(r("766 within catch the end of the value when replaceThisValue is on clauses"),typeof y!="number"&&(e[g]==="["&&e[t]==="]"||e[g]==="{"&&e[t]==="}"||e[g]==='"'&&e[t]==='"'||!["[","{",'"'].includes(e[g])&&e[g].trim()&&(!e[t].trim()||f.includes(e[t])&&E(e,t-1))))){if(r(`780 INSIDE CATCH-END CLAUSES currently ${`\x1B[33m${`str[valueStartedAt=${g}]`}\x1B[39m`} = ${JSON.stringify(e[g],null,4)}`),u==="set"){r("789 \x1B[32mRETURN\x1B[39m");let S="";e.slice(g,t+(e[t].trim()?1:0)).includes(`
`)&&e[t+(e[t].trim()?1:0)]!==`
`&&(S=`
`);let O=t+(e[t].trim()?1:0);return(c&&!['"',"[","{"].includes(e[g])&&e[I(e,O-1)]!=="]"||e[O-1]===","&&e[g-1]!=='"')&&(O-=1),c&&e[g-1]==='"'&&(g=g-1),`${e.slice(0,g)}${je(s)}${S}${e.slice(O)}`}if(u==="del"){r("848 \x1B[32mRETURN\x1B[39m"),r(`851 \x1B[33mkeyStartedAt\x1B[39m = ${JSON.stringify(h,null,4)}; val = ${(c?g:h)-1}`);let S=j(e,(c?g:h)-1);typeof S=="number"&&S++,r(`864 \x1B[32mSET\x1B[39m initial \x1B[33mstartingPoint\x1B[39m = ${S}`);let O=t+(e[t].trim()?1:0);typeof S=="number"&&e[S-1]===","&&["}","]"].includes(e[I(e,O-1)])&&(S-=1,r(`873 SET \x1B[33mstartingPoint\x1B[39m = ${S}`)),e[O]===","&&(O+=1,r(`879 SET \x1B[33mendingPoint\x1B[39m = ${O}`)),r(`883 \x1B[33mstartingPoint\x1B[39m = ${JSON.stringify(S,null,4)}; \x1B[33mendingPoint\x1B[39m = ${JSON.stringify(O,null,4)};`),o.push([S,O]),r(`896 \x1B[32mFINAL PUSH\x1B[39m \x1B[33mranges\x1B[39m = ${JSON.stringify(o,null,4)}`),r("902 then \x1B[31mBREAK\x1B[39m");break}}(p&&c||c&&typeof y!="number"&&e[t]==="]"&&E(e,t-1))&&(c=!1,p=!0),r(`${`\x1B[${y?32:31}m${`withinQuotesSince${typeof y=="number"?`=${y}`:""}`}\x1B[39m`}; ${`\x1B[${p?32:31}mcurrentlyWithinObject\x1B[39m`}; ${`\x1B[${c?32:31}mcurrentlyWithinArray\x1B[39m`}; ${`\x1B[${m?32:31}mreplaceThisValue\x1B[39m`}; ${`\x1B[${A?32:31}mitsTheFirstElem\x1B[39m`}; ${`\x1B[${d.length?32:31}m${`skipUntilTheFollowingIsMet${d?`: ${JSON.stringify(d,null,0)}`:""}`}\x1B[39m`}`),r(`current path: ${JSON.stringify(b.join("."),null,0)}`),r(`\x1B[33mkeyName\x1B[39m = ${D}; \x1B[33mkeyValue\x1B[39m = ${P}; \x1B[33mkeyStartedAt\x1B[39m = ${h}; \x1B[33mkeyEndedAt\x1B[39m = ${v}; \x1B[33mvalueStartedAt\x1B[39m = ${g}; \x1B[33mvalueEndedAt\x1B[39m = ${N}`),r(`\x1B[33mwithinArrayIndexes\x1B[39m = ${JSON.stringify($,null,0)}; \x1B[33mwithinObjectIndexes\x1B[39m = ${JSON.stringify(a,null,0)};`)}return r(`
\x1B[36m=============================== FIN.\x1B[39m`),r(`947 RETURN applied ${JSON.stringify(L(e,o),null,4)}`),L(e,o)}function Ie(e,n,i){if(!T(e)||!e.length)throw new Error(`edit-package-json/set(): [THROW_ID_01] first input argument must be a non-empty string. It was given as ${JSON.stringify(e,null,4)} (type ${typeof e})`);return ae({str:e,path:n,valToInsert:i,mode:"set"})}function We(e,n){if(!T(e)||!e.length)throw new Error(`edit-package-json/del(): [THROW_ID_02] first input argument must be a non-empty string. It was given as ${JSON.stringify(e,null,4)} (type ${typeof e})`);return ae({str:e,path:n,mode:"del"})}return ye(Re);})();
/**
 * @name codsen-utils
 * @fileoverview Various utility functions
 * @version 1.6.4
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/codsen-utils/}
 */
/**
 * @name string-left-right
 * @fileoverview Looks up the first non-whitespace character to the left/right of a given index
 * @version 6.0.17
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/string-left-right/}
 */
/**
 * @name ranges-sort
 * @fileoverview Sort string index ranges
 * @version 6.0.11
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/ranges-sort/}
 */
/**
 * @name ranges-merge
 * @fileoverview Merge and sort string index ranges
 * @version 9.0.15
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/ranges-merge/}
 */
/**
 * @name ranges-apply
 * @fileoverview Take an array of string index ranges, delete/replace the string according to them
 * @version 7.0.16
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/ranges-apply/}
 */
